<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>FF Manual – My Manual for Fiscal Futures</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-991b1886d3c685c7aa2b62b80640c7af.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">My Manual for Fiscal Futures</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">FF Manual</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="table-of-contents" class="level2">
<h2 class="anchored" data-anchor-id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#requesting-data-from-the-ioc">Requesting Data from the IOC</a></li>
<li><a href="#data-wrangling">Data Wrangling</a>
<ul>
<li><a href="#related-files">Related Files</a></li>
<li><a href="#data-processing">Data Processing</a> - <a href="#allexpfilescsv-allrevfilecsv"><code>allexpfiles.csv</code>, <code>allrevfile.csv</code></a>
<ul>
<li><a href="#funds_ab_inxlsx"><code>funds_ab_in.xlsx</code></a></li>
<li><a href="#rev_tempcsv--exp_tempcsv"><code>rev_temp.csv</code> &amp; <code>exp_temp.csv</code></a></li>
</ul></li>
<li><a href="#category-recoding">Category recoding</a>
<ul>
<li><a href="#exp_tempcsv"><code>exp_temp.csv</code></a>
<ul>
<li><a href="#tax-refund">Tax Refund</a></li>
<li><a href="#expenditure-category">Expenditure Category</a></li>
<li><a href="#quasi-agency">Quasi-Agency</a></li>
<li><a href="#single-agencies-function-as-expenditure-categories">Single Agencies Function as Expenditure Categories</a></li>
<li><a href="#combination-of-multiple-smaller-agencies">Combination of multiple smaller agencies</a></li>
</ul></li>
<li><a href="#rev_tempcsv"><code>rev_temp.csv</code></a>
<ul>
<li><a href="#tax-refunds">Tax refunds</a></li>
<li><a href="#revenue-category">Revenue Category</a>
<ul>
<li><a href="#federal-to-state-transfers">Federal to State Transfers</a></li>
</ul></li>
<li><a href="#not-included-in-fiscal-futures">Not included in Fiscal Futures:</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<ul>
<li>FF transforms the data from the IOC to provide accurate time-series data.
<ul>
<li>The Illinois Office of Comptroller (IOC) and political discussion use the concept of General Fund but it is not consistent over time.
<ul>
<li>For example, money for a specific program may come from one fund in a given year, but the source may change to another fund in the next year.</li>
</ul></li>
<li>To address this inconsistency, FF adopts an <strong>All Funds</strong> approach, which tracks revenues and expenditures by the functions of Illinois State Government.</li>
</ul></li>
</ul>
</section>
<section id="requesting-data-from-the-ioc" class="level1">
<h1>Requesting Data from the IOC</h1>
<ul>
<li>FF uses data from the IOC, obtained through the IOC’s Freedom of Information Officer (FOIA).</li>
<li>An RA has to request data after the lapse period ends
<ul>
<li>Template for request: <em>==Link will be added==</em></li>
<li>Check that lapse period is fully ended
<ul>
<li>the lapse period ended on August 31, but may remain opened for error corrections and late billings.</li>
<li>Generally, revenue data is complete earlier than expenditure</li>
</ul></li>
</ul></li>
<li>Data is separated into <strong>Expenditure</strong> and <strong>Revenue</strong> in MS-Excel files</li>
</ul>
</section>
<section id="data-wrangling" class="level1">
<h1>Data Wrangling</h1>
<section id="related-files" class="level2">
<h2 class="anchored" data-anchor-id="related-files">Related Files</h2>
<ul>
<li>Raw data
<ul>
<li><p><strong><code>allrevfiles.xlsx</code></strong>, <strong><code>allexpfiles.xlsx</code></strong> : Raw data from IOC</p></li>
<li><p><a href="Manual_Draft#^dd03d9"><strong><code>funds_ab_in.xlsx</code></strong></a>: Funds information used since 1998, created from FF</p>
<ul>
<li>contains all funds that have existed, their current status of existence, whether their numbers have been reused different purposes, and the new fund numbers each year by the IOC.</li>
</ul></li>
<li><p><strong><code>ioc_source_type.xlsx</code></strong> : Source type information, created from FF</p></li>
</ul></li>
<li>Intermediate Outputs
<ul>
<li><code>rev_allyears.csv</code>, <code>exp_allyears.csv</code>
<ul>
<li>initial combined data files, merged with <code>funds_ab_in.xlsx</code>, and <code>ioc_source_type.xlsx</code></li>
<li>Cleaned version of data before aggregating totals or dropping observations not included in the FF fiscal gap calculation.
<ul>
<li>Contain all years in one file.</li>
<li>Funds and agencies should have numbers and consistent labels.</li>
<li>Includes the “Group” variable used in the FF Annual Report used for calculating expenditures by function.&nbsp;</li>
</ul></li>
</ul></li>
<li><code>rev_temp.csv</code>, <code>exp_temp.csv</code>: Data prepared for the FF annual report
<ul>
<li>Data is cleaned and coded up to the point right before aggregating category totals.</li>
<li>Drops observations we do not keep in fiscal gap calculation.</li>
</ul></li>
</ul></li>
<li><del>Final outputs</del>
<ul>
<li><del><code>summary_file_FY20XX.xlsx</code></del></li>
</ul></li>
</ul>
</section>
<section id="data-processing" class="level2">
<h2 class="anchored" data-anchor-id="data-processing">Data Processing</h2>
<section id="allexpfiles.csv-allrevfile.csv" class="level4">
<h4 class="anchored" data-anchor-id="allexpfiles.csv-allrevfile.csv"><code>allexpfiles.csv</code>, <code>allrevfile.csv</code></h4>
<ul>
<li>The first task is to make data consistent with the previous data.
<ul>
<li>The FOIA of IOC send the expenditure and revenue data as excel files.</li>
</ul></li>
</ul>
<ol type="1">
<li>Change the variable names to be consistent with other files.
<ul>
<li>They seem to change almost every year in the file received from the FOIA</li>
<li>For example:
<ul>
<li><code>AGENCYNAME</code> –&gt; <code>agency_name</code></li>
</ul></li>
</ul></li>
<li>Once variable names are shared over all years of data, combine past years with newest year.
<ul>
<li>Bind all past years and the current year together in one dataframe</li>
<li>Save the data file as a csv file in its Revenue/Expenditure file
<ul>
<li>When adding new fiscal years, put the the newest year of data for revenue and expenditures in their respective folders.
<ul>
<li>All revenue files are in a `revenue` folder that I reference when I set the working directory.</li>
</ul></li>
</ul></li>
</ul></li>
</ol>
<ul>
<li>==Link to R code or file will be added==
<ul>
<li>“# Gathering and Cleaning Data! {#sec-gathering-and-cleaning-data}” in code-cleaning.qmd</li>
</ul></li>
</ul>
</section>
<section id="funds_ab_in.xlsx" class="level3">
<h3 class="anchored" data-anchor-id="funds_ab_in.xlsx"><code>funds_ab_in.xlsx</code></h3>
<p>^dd03d9</p>
<ul>
<li>General steps:
<ol type="1">
<li>Identify new funds and agencies and reused funds for newest fiscal year.
<ul>
<li>Create a list of funds, agencies, fund names, etc. for the new year from the raw files (i.e., <code>allexpfiles.xlsx</code>, <code>allrevfiles.xlsx</code>)</li>
<li>Identify new funds by comparing the list to the immediate prior year.</li>
</ul></li>
<li>Recode funds to take into account different fund numbers/names over the years.
<ul>
<li>Use criteria to determine if the new funds should be in or out of the all-funds frame.</li>
<li>See [Recoding New and Reused Funds] for code chunk that does this.<br>
</li>
</ul></li>
<li>Update <code>inputs/funds_ab_in.xlsx</code> with any changes from previous fiscal year.</li>
</ol></li>
<li>==Link to R code or file will be added==
<ul>
<li>“### Finding new agencies and funds” in code-cleaning.qmd</li>
<li>“### Recoding New and Reused Funds” in code-cleaning.qmd</li>
</ul></li>
</ul>
</section>
<section id="rev_temp.csv-exp_temp.csv" class="level3">
<h3 class="anchored" data-anchor-id="rev_temp.csv-exp_temp.csv"><code>rev_temp.csv</code> &amp; <code>exp_temp.csv</code></h3>
<ul>
<li>the initial combined and years of data are saved as dataframes named <code>exp_allyears</code> and <code>rev_allyears</code>.
<ul>
<li>These are then saved as exp_temp and rev_temp while recoding variables.</li>
<li>This is BEFORE creating Fiscal Future category groups and further data cleaning done in the Calculating the Fiscal Gap page.</li>
</ul></li>
<li>For aggregating revenue, use the <code>rev_allyears</code> file, join the <code>funds_ab_in</code> file to it, and then join the <code>ioc_source_type</code> file.
<ul>
<li>Remember: You need to update the <code>funds_ab_in</code> and <code>ioc_source_type</code> file every year!</li>
</ul></li>
<li>The <code>exp_temp.csv</code> file and <code>rev_temp.csv</code> file are most likely the data that non-Fiscal Future researchers would want to use for their own analyses. These files should have consistent agencies and funds tracked from 1998 to the present.</li>
</ul>
</section>
</section>
<section id="category-recoding" class="level2">
<h2 class="anchored" data-anchor-id="category-recoding">Category recoding</h2>
<section id="exp_temp.csv" class="level3">
<h3 class="anchored"><code>exp_temp.csv</code></h3>
<ul>
<li>Aggregate expenditures</li>
</ul>
<section id="tax-refund" class="level4">
<h4 class="anchored" data-anchor-id="tax-refund">Tax Refund</h4>
<p>Save tax refunds as negative revenue. - Code refunds to match the rev_type codes: - 02 = income taxes - fund == “0278” &amp; sequence == “00” - fund == “0278” &amp; sequence == “02” - 03 = corporate income taxes - fund == “0278” &amp; sequence == “01” - 06 = sales tax - obj_seq_type == “99250055” - 09 = motor fuel tax - 21= Inheritance tax - object 9921 - 24 = insurance taxes and fees - fund == “0378” &amp; object == “9925” - 35 = all other tax refunds - fund == “0001” &amp; object == “9925”</p>
</section>
<section id="expenditure-category" class="level4">
<h4 class="anchored" data-anchor-id="expenditure-category">Expenditure Category</h4>
<ul>
<li><p>object == 4431</p></li>
<li><p>In most cases, the expenditure category is synonymous with a name of department, branch, agency, board, or commission</p></li>
<li><p>Some categories are grouped separately from the agency</p>
<ul>
<li><em>Quasi-agencies</em>: <del>pensions</del>, debt service, state employee healthcare, Medicaid, and transfers of revenue to local government</li>
</ul></li>
<li><p>Combination of small agencies #### Quasi-Agency</p></li>
<li><p><del>901. Pension Contributions</del></p>
<ul>
<li>Not used for FY2024 onward. Pension expenditures combined with function expenses. &gt; [!CODE] &gt; - object == “4431” -&gt; pension = 1 &gt; - object == “1298” &amp; fy == (2010, 2011) &amp; fund == (“0477”, “0479”, “0481”) -&gt; pension = 3 &gt; - fund == “0319” (Pension Stabilization Fund) -&gt; pension = 4</li>
</ul></li>
<li><ol start="903" type="1">
<li>Debt Service</li>
</ol>
<ul>
<li><p>==Link to <code>debt.qmd</code> will be added== &gt; [!CODE] &gt; - object == “8813” &gt; - obj_seq_type == (“88130000”, “88130008”, “88130108”) &gt; - object == “8800” &gt; - except for fund == “0455”, or agency == (“557”, “577”)</p></li>
<li><p>Excluded from debt service &gt; [!CODE] &gt; - Principal : object == “8811” &gt; - obj_seq_type == “88110008” &gt; - obj_seq_type == “88110108” &gt; - object == “8841” &gt; - obj_seq_type == “88410008” &gt; - object == “8800” &amp; fund == “0455”</p></li>
</ul></li>
<li><ol start="904" type="1">
<li>State Employee Health Care</li>
</ol>
<ul>
<li>Only actual health insurance expenditures from HIRF and related funds administered through CMS/HFS are included,
<ul>
<li>Fund 0907: Health Insurance Reserve Fund</li>
<li>Fund 0457: Group Insurance Premium Fund</li>
<li>Fund 9939: Group self-insurers’ insolvency fund</li>
<li>Fund 0739 : Group workers comp pool insolvency fund &gt; [!Code] &gt; - fund == (“0907”, “0457”, “9939”, “0739”)</li>
</ul></li>
<li>Employer contributions (object 1180/1900) and certain local, university, and self-insurance fund expenditures are excluded
<ul>
<li><p>Fund 0193: Local govt health insurance reserve</p></li>
<li><p>Fund 0477: Community College Health Insurance</p></li>
<li><p>Fund 0940: Self-Insurers security fund</p></li>
<li><p>Object 1180: Employer contributions</p></li>
<li><p>Object 1900: Lump-sum employer contributions (FY21-22) &gt; [!CODE] &gt; - fund == “0193”, “0477”, “0940” &gt; - object = (“1180”, “1900”)</p></li>
</ul></li>
</ul></li>
<li><ol start="945" type="1">
<li>Medicaid &gt; [!CODE] &gt; agency = “478” &amp; appr_org = (“01”, “65”, “88”) &amp; object == (“4900”, “4400”) &gt; agency == “586” &amp; fund == “0355”</li>
</ol></li>
<li><ol start="970" type="1">
<li>Transfer of Revenue to Local Governments</li>
</ol></li>
</ul>
</section>
<section id="single-agencies-function-as-expenditure-categories" class="level4">
<h4 class="anchored" data-anchor-id="single-agencies-function-as-expenditure-categories">Single Agencies Function as Expenditure Categories</h4>
<blockquote class="blockquote">
<p>[!CODE] Category = Agency</p>
</blockquote>
<ul>
<li>4<strong>02.&nbsp; Aging</strong>, Department of</li>
<li><strong>406.&nbsp; Agriculture</strong>, Department of (includes: 538. Farm Development Authority; 556 Rural Bond Bank – old agencies)</li>
<li><strong>418.&nbsp; Children and Family Services</strong>, Department of</li>
<li><strong>420.&nbsp; Commerce and Economic Opportunity,</strong> Department of</li>
<li><strong>422.&nbsp; Natural Resources</strong>, Department of</li>
<li><strong>425. Juvenile Justice,</strong> Department of</li>
<li><strong>426.&nbsp; Corrections</strong>, Department of</li>
<li><strong>427.&nbsp; Employment Security</strong>, Department of</li>
<li><strong>444.&nbsp; Human Services</strong>, Department of</li>
<li><strong>478.&nbsp; Healthcare &amp; Family Services</strong>, Department of (net of 945. Medicaid)</li>
<li><strong>482.&nbsp; Public Health</strong>, Department of</li>
<li><strong>492.&nbsp; Revenue</strong>, Department of</li>
<li><strong>494.&nbsp; Transportation</strong> (net Local Share)– e.g.&nbsp;public transportation, railroads, construction, equipment, maintenance</li>
<li><strong>532.&nbsp; Environmental Protect Agency</strong> – e.g.&nbsp;Air pollution control, land pollution control, clean water programs, stormwater management.</li>
<li><strong>557.&nbsp; Illinois State Toll Highway Authority</strong> – e.g.&nbsp;&nbsp;tollway capital Improvement, maintenance. Principal and interest are included as Tollway expenditures since they are combined in the data.</li>
<li><strong>684.&nbsp; Illinois Community College Board</strong></li>
<li><strong>691.&nbsp; Illinois Student Assistance Commission</strong></li>
</ul>
</section>
<section id="combination-of-multiple-smaller-agencies" class="level4">
<h4 class="anchored">Combination of multiple smaller agencies</h4>
<blockquote class="blockquote">
<p>[!CODE]</p>
</blockquote>
<pre><code>    &gt; - Catergory = Agencies</code></pre>
<ul>
<li><strong>943. Central Services</strong>
<ul>
<li>416.&nbsp; Central Management Services</li>
<li><ol start="448" type="1">
<li>Innovation and Technology</li>
</ol></li>
</ul></li>
<li><strong>910.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Legislative</strong>.&nbsp; Combination of
<ul>
<li>101.&nbsp; General Assembly</li>
<li>102.&nbsp; Office of the Legislative Inspector General</li>
<li>103.&nbsp; Office of the Auditor General</li>
<li>105.&nbsp; Commission on Government Forecasting &amp; Accountability (COGFA)</li>
<li>108.&nbsp; Legislative Information System</li>
<li>109.&nbsp; Legislative Audit Commission</li>
<li>110.&nbsp; Legislative Printing Unit</li>
<li>115.&nbsp; Legislative Reference Bureau</li>
<li>120.&nbsp; Legislative Ethics Commission</li>
<li>156.&nbsp; Office of the Architect of the Capitol</li>
<li>167.&nbsp; Joint Committee on Administrative Rules</li>
<li><em>Past Legislative:</em>
<ul>
<li><em>107. Commission on Intergovernmental Cooperation</em></li>
<li><em>112.&nbsp; Legislative Research Unit</em></li>
<li><em>155.&nbsp; Legislative Space Needs Commission</em></li>
<li><em>140.&nbsp; Pension Laws Commission</em></li>
</ul></li>
</ul></li>
<li><strong>920.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Judicial</strong>.&nbsp; Combination of
<ul>
<li>201.&nbsp; Supreme Court</li>
<li>210.&nbsp; Supreme Court Historic Preservation Commission</li>
<li><ol start="280" type="1">
<li>Courts Commission</li>
</ol></li>
<li>285.&nbsp; Judicial Inquiry Board</li>
<li>290.&nbsp; State Appellate Defenders Office</li>
<li>295.&nbsp; State’s Attorneys Appellate Prosecutor</li>
<li>528.&nbsp; Court of Claims</li>
<li><em>Past agencies:</em>
<ul>
<li><em>202.&nbsp; Attorney Registration and Disciplinary Commission</em></li>
<li><em>203.&nbsp; Board of Admissions to the Bar</em></li>
<li><em>205.&nbsp; Clerk of the Supreme Court</em></li>
<li><em>215.&nbsp; Appellate Court District 1</em></li>
<li><em>225.&nbsp; Appellate Court District 2</em></li>
<li><em>235.&nbsp; Appellate Court District 3</em></li>
<li><em>245.&nbsp; Appellate Court District 4</em></li>
<li><em>255.&nbsp; Appellate Court District 5</em></li>
</ul></li>
</ul></li>
<li><strong>930.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Elected Officers</strong>.&nbsp; Combination of
<ul>
<li>310.&nbsp; Governor</li>
<li>330.&nbsp; Office of the Lt. Governor</li>
<li>340.&nbsp; Office of the Attorney General</li>
<li>350.&nbsp; Secretary of State</li>
<li>360.&nbsp; Illinois Office of the Comptroller</li>
<li>370.&nbsp; State Treasurer’s Office</li>
</ul></li>
<li><strong>941.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Public Safety</strong>.&nbsp; Combination of
<ul>
<li>425.&nbsp; Department of Juvenile Justice</li>
<li>466.&nbsp; Military Affairs</li>
<li>493.&nbsp; Department of State Police</li>
<li>546.&nbsp; Illinois Criminal Justice Information Authority</li>
<li>569.&nbsp; Law Enforcement Training and Standards Board</li>
<li>578.&nbsp; Prisoner Review Board</li>
<li>583.&nbsp; Sex Offender Management Board</li>
<li>588.&nbsp; Illinois Emergency Management Agency</li>
<li>591.&nbsp; Illinois State Police Merit Board</li>
<li>592.&nbsp; Office of the State Fire Marshal</li>
</ul></li>
<li><strong>944.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Business &amp; Professional Regulation</strong>.&nbsp; Combination of
<ul>
<li>440.&nbsp; Department of Financial and Professional Regulation</li>
<li>446.&nbsp; Department of Insurance</li>
<li>524.&nbsp; Illinois Commerce Commission</li>
<li>563.&nbsp; Illinois Workers’ Compensation Commission</li>
</ul></li>
<li><strong>946.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Capital Improvement</strong>.&nbsp; Combination of
<ul>
<li>511.&nbsp; Capital Development Board</li>
<li>554.&nbsp; Illinois Sports Facilities Authority</li>
<li>574.&nbsp; Metropolitan Fair and Exposition Authority</li>
<li>598.&nbsp; Upper Illinois River Valley Development Authority</li>
</ul></li>
<li><strong>948.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Other Departments</strong>.&nbsp; Combination of
<ul>
<li>442.&nbsp; Department of Human Rights</li>
<li>445.&nbsp; IL Power Agency</li>
<li>452.&nbsp; Department of Labor</li>
<li>458.&nbsp; Illinois Lottery</li>
<li>497.&nbsp; Department of Veterans Affairs</li>
<li>507.&nbsp; Governor’s Office of Management and Budget</li>
<li><h2 id="non-pension-items-from-pension-departments" class="anchored" data-anchor-id="combination-of-multiple-smaller-agencies"><strong><em>Non-pension items from pension departments</em></strong></h2>
<pre><code>131. General Assembly Retirement System</code></pre>
<ul>
<li><ol start="275" type="1">
<li>Judges Retirement System</li>
</ol></li>
<li><ol start="589" type="1">
<li>State Employees’ Retirement System</li>
</ol></li>
<li><ol start="593" type="1">
<li>Teachers’ Retirement System</li>
</ol></li>
<li><ol start="594" type="1">
<li>Teachers’ pension and retirement system</li>
</ol></li>
<li><ol start="693" type="1">
<li>State University Retirement System</li>
</ol></li>
</ul></li>
</ul></li>
<li><strong>949.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Other Boards &amp; Commissions</strong>.&nbsp; Combination of
<ul>
<li>503.&nbsp; Illinois Arts Council</li>
<li>509.&nbsp; Office of the Executive Inspector General</li>
<li>510.&nbsp; Executive Ethics Commission</li>
<li>517.&nbsp; Illinois Civil Service Commission</li>
<li>526.&nbsp; Deaf and Hard of Hearing Commission</li>
<li>527.&nbsp; Comprehensive Health Insurance Board</li>
<li>529.&nbsp; East St.&nbsp;Louis Financial Advisory Authority</li>
<li><ol start="533" type="1">
<li>Committee on Equity and Inclusion</li>
</ol></li>
<li>534.&nbsp; Health Information Exchange Authority</li>
<li>537.&nbsp; Guardianship and Advocacy Commission</li>
<li>540.&nbsp; Illinois Health Care</li>
<li>541.&nbsp; Historic Preservation Agency</li>
<li>542.&nbsp; Human Rights Commission</li>
<li>548.&nbsp; Illinois Education Labor Relations Board</li>
<li>555.&nbsp; Illinois State Board of Investments</li>
<li>558.&nbsp; Illinois Council on Developmental Disabilities</li>
<li>559.&nbsp; Illinois Violence Prevention Authority</li>
<li>562.&nbsp; Procurement Policy Board</li>
<li>564.&nbsp; Illinois Independent Tax Tribunal</li>
<li>565.&nbsp; Illinois Gaming Board</li>
<li>567.&nbsp; Liquor Control Commission</li>
<li>571.&nbsp; Medical Center Commission</li>
<li>575.&nbsp; Prairie State 2000 Authority</li>
<li>579.&nbsp; Illinois Racing Board</li>
<li>580.&nbsp; Property Tax Appeal Board</li>
<li>587.&nbsp; Illinois State Board of Elections</li>
<li>590.&nbsp; Illinois Labor Relations Board</li>
<li><strong><em>Past Boards &amp; Commissions:</em></strong>
<ul>
<li><em>525. Drycleaner Commission</em></li>
<li><em>568. IL Charter Schools Commission</em></li>
<li><em>585. Southwestern Development Authority</em></li>
</ul></li>
</ul></li>
<li><strong>959. K-12 Education</strong> - eg. After school programs, charter schools, breakfast/lunch programs, commodities, etc.
<ul>
<li>586.&nbsp; Illinois State Board of Education (net of special education funds to 945. Medicaid).</li>
</ul></li>
<li><strong>960.&nbsp;University Education.</strong> &nbsp;State contributions to higher education.&nbsp; Note this does not include the entire budget of the schools, only the amount they get from the state.
<ul>
<li>601.&nbsp; Board of Higher Education</li>
<li>608.&nbsp; Chicago State University</li>
<li>612.&nbsp; Eastern Illinois University</li>
<li>616.&nbsp; Governors State University</li>
<li>620.&nbsp; Northeastern Illinois University</li>
<li>628.&nbsp; Western Illinois University</li>
<li>636.&nbsp; Illinois State University</li>
<li>644.&nbsp; Northern Illinois University</li>
<li>664.&nbsp; Southern Illinois University</li>
<li>676.&nbsp; University of Illinois</li>
<li>692.&nbsp; Illinois Math and Science Academy</li>
<li>695.&nbsp; State Universities Civil Service Merit Board</li>
</ul></li>
</ul>
</section>
</section>
<section id="rev_temp.csv" class="level3">
<h3 class="anchored" data-anchor-id="rev_temp.csv"><code>rev_temp.csv</code></h3>
<section id="tax-refunds" class="level4">
<h4 class="anchored" data-anchor-id="tax-refunds">Tax refunds</h4>
<ul>
<li><code>tax_refund</code> amounts are removed from expenditure totals and subtracted from revenue totals (since they were tax refunds). &gt;[!CODE] &gt; - <code>rev_</code> - <code>ref_</code></li>
</ul>
</section>
<section id="revenue-category" class="level4">
<h4 class="anchored" data-anchor-id="revenue-category">Revenue Category</h4>
<p>Revenue categories are aggregated under the following revenue type codes. &gt;[!CODE] &gt; - Category = Rev_type in ff_rev</p>
<ul>
<li><p><strong>02.&nbsp; Individual Income Taxes</strong>.&nbsp;</p>
<ul>
<li>Gross of local share.&nbsp;</li>
<li>Excludes funds allocated to Income Tax Refund Fund (0278) and the Protest Fund.</li>
</ul></li>
<li><p><strong>03.&nbsp; Corporate Income Taxes</strong></p>
<ul>
<li>Gross of the personal property replacement tax levied on businesses.&nbsp;</li>
<li>Excludes funds allocated to Income Tax Refund Fund (0278).</li>
</ul></li>
<li><p><strong>06.&nbsp; Sales Taxes</strong></p>
<ul>
<li>Collections of the general sales and use tax at the 6.25 percent rate—1.25 of which is remitted to local governments and 5.00 of which is retained by the state.&nbsp;</li>
<li>The Fiscal Futures project does not include the collections at the 1.0 percent rate that applies only to food and drugs and goes to local governments (deposited in the State and Local Sales Tax Reform Fund).</li>
</ul></li>
<li><p><strong>09.&nbsp; Motor Fuel Tax</strong>.&nbsp;</p>
<ul>
<li>Gross of the portion transferred to local governments.&nbsp;</li>
<li>Net of current-year expenditures for refunds.&nbsp;</li>
</ul></li>
<li><p><strong>12.&nbsp; Public Utility Taxes</strong>.&nbsp;</p>
<ul>
<li>Gross of the Personal Property Replacement Tax on public utilities that is transferred to local governments.&nbsp;</li>
</ul></li>
<li><p><strong>15.&nbsp; Cigarette Taxes</strong>.&nbsp;</p></li>
<li><p><strong>18.&nbsp; Liquor Gallonage Taxes</strong>.&nbsp;</p></li>
<li><p><strong>21.&nbsp; Inheritance Tax</strong></p>
<ul>
<li>Net of current-year expenditures for refunds.</li>
</ul></li>
<li><p><strong>24.&nbsp; Insurance Taxes, Fees &amp; Licenses</strong></p>
<ul>
<li>Net of current-year expenditures for refunds.</li>
</ul></li>
<li><p><strong>27.&nbsp; Corporate Franchise Taxes &amp; Fees</strong></p></li>
<li><p><strong>31.&nbsp; Medical Provider Assessments</strong></p></li>
<li><p><strong>33.&nbsp; Lottery Receipts</strong></p></li>
<li><p><strong>35.&nbsp; Other Taxes</strong></p></li>
<li><p><strong>36.&nbsp; Receipts From Revenue Producing</strong></p></li>
<li><p><strong>39.&nbsp; Licenses, Fees &amp; Registrations</strong></p></li>
<li><p><strong>42.&nbsp; Motor Vehicle &amp; Operators</strong>&nbsp;</p></li>
<li><p><strong>48.&nbsp; Riverboat Wagering Taxes</strong>&nbsp;</p></li>
<li><p><strong>54.&nbsp; Gifts and Bequests</strong>&nbsp;</p></li>
<li><p><strong>78.&nbsp; All Other Sources</strong></p>
<ul>
<li>Expanded to include the following smaller sources:
<ul>
<li>30.&nbsp; Horse Racing Taxes &amp; Fees.&nbsp;</li>
<li>60.&nbsp; Other Grants and Contracts.&nbsp;</li>
<li>63.&nbsp; Investment Income.&nbsp;</li>
</ul></li>
</ul></li>
</ul>
<section id="federal-to-state-transfers" class="level5">
<h5 class="anchored" data-anchor-id="federal-to-state-transfers">Federal to State Transfers</h5>
<ul>
<li><p>Fiscal Futures creates separate codes for Medicaid (58) and Transportation grants (59) and reports the residual as Other (57).</p></li>
<li><p><strong>57.&nbsp; Federal Other</strong>&nbsp; ==Link to R code will be added==</p>
<ul>
<li>Comptroller codes all federal sources as 57.&nbsp; &gt;rev_type = 57</li>
</ul></li>
<li><p><strong>58.&nbsp; Federal Medicaid</strong> ==Link to R code will be added==</p>
<ul>
<li>Detailed source codes are used to identify federal receipts of the Department of Healthcare and Family Services (agency 478) attributable to Medicaid. &gt; agency = 478 &amp; source = <code>0618</code>, <code>2364</code>, <code>0660</code>, <code>1552</code>, <code>2306</code>, <code>2076</code>, <code>0676</code>, 0692</li>
</ul></li>
<li><p><strong>59.&nbsp; Federal Transportation</strong> ==Link to R code will be added==</p>
<ul>
<li>Federal receipts of the Department of Transportation (agency 494). &gt; agency = 494</li>
</ul></li>
</ul>
</section>
</section>
<section id="not-included-in-fiscal-futures" class="level4">
<h4 class="anchored" data-anchor-id="not-included-in-fiscal-futures">Not included in Fiscal Futures:</h4>
<ul>
<li>32.&nbsp;Garnishment-Levies.&nbsp;
<ul>
<li>(State is fiduciary, not beneficiary.)</li>
</ul></li>
<li>45.&nbsp;Student Fees-Universities.
<ul>
<li>(Excluded from state-level budget.)</li>
</ul></li>
<li>51.&nbsp;Retirement Contributions (of individuals and non-state entities).&nbsp;</li>
<li>66.&nbsp;Proceeds, Investment Maturities.&nbsp;
<ul>
<li>(Not sustainable flow.)</li>
</ul></li>
<li>72.&nbsp;Bond Issue Proceeds.&nbsp;
<ul>
<li>(Not sustainable flow.)</li>
</ul></li>
<li>75.&nbsp;Inter-Agency Receipts.</li>
<li>79.&nbsp;Cook County Intergovernmental Transfers.&nbsp;
<ul>
<li>(State is not beneficiary.)</li>
</ul></li>
<li>98.&nbsp;Prior Year Refunds.&nbsp;</li>
<li><ol start="99" type="1">
<li>Statutory Transfers</li>
</ol></li>
</ul>


</section>
</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/jahunlee\.github\.io\/Fiscal-Futures");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>